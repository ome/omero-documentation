******************************
Using scripts to export images
******************************

OMERO allows you to use scripts to add functionality to OMERO.

Scripts are usually written in Python and run on the server. They could be written in another language, but a Python wrapper is used.

|

#. Select images and click on the **Run Scripts** icon in the toolbar.

   You will see a menu showing the currently available scripts.

   Choose **Export Scripts > Batch Image Export**.

   |

   .. image:: /images/tutor/scriptsMenu.jpg
       :width: 95%
       :align: center

   |

#. A dialog is generated from the parameters in the script, with image IDs filled-in for the images you selected.

   Other fields are optional or have default values.

   You can view or download the script itself if you are interested.

   |

   .. image:: /images/tutor/scriptsView.jpg
       :width: 95%
       :align: center

   |

#. Optional: you can edit the script parameters if you want to.

   Click **Run Script** to finish.

   |

   .. image:: /images/tutor/scriptsRun.jpg
       :width: 65%
       :align: center

   |

#. When the script has completed, you may have several options to access the results:

   |

   .. image:: /images/tutor/scriptsActivities.jpg
       :width: 95%
       :align: center

   |

Available exporting scripts
===========================

The following options are available in OMERO.Insight for exporting images using scripts.

|

Export Scripts
--------------
- Batch Image Export
   - Saves multiple images as JPEG or PNG images in a zip which is then available for download.
- Make Movie
   - Creates a movie of the image (z stacks and t sequences) and attaches it to the image.

Figure Scripts
--------------

- Movie Figure
   - Export a figure of a movie, showing a row of frames for each chosen image.
- Movie ROI Figure
   - Create a figure of movie frames from ROI region of image.
- ROI Split Figure
   - Create a figure of an ROI region as separate zoomed split-channel panels.
- Split View Thumbnail
   - Create a figure of split-view images.
- Thumbnail Figure
   - Export a figure of thumbnails, optionally sorted by tag.

.. note:: Better user interfaces for the majority of these scripts can be accessed under 'Publishing Options'.

    The images generated by the scripts can be downloaded and further refined for publication.

    Other scripts in the menu are generally for more specialised workflows.

|

Illustrations of Script Use
===========================

The following links illustrate the use of some of the scripts available.

Split-view figure
-----------------

This takes a number of images and makes each into a split-view on separate rows.

The merged image is based on current rendering settings.

There are options to exclude channels from figure.

It is possible to use color split channels or use greyscale.

Examples:

http://jcb.rupress.org/content/168/4/599/F3.expansion

http://jcb.rupress.org/content/168/4/607/F5.expansion

http://jcb.rupress.org/content/168/5/747/F8.expansion (Panel E)

http://jcb.rupress.org/content/168/5/775/F2.expansion

Grid of images
--------------

All panels different conditions with panels named with Name (or Tag) in white:

http://jcb.rupress.org/content/168/4/599/F2.expansion

http://jcb.rupress.org/content/168/5/801/F6.expansion

http://jcb.rupress.org/content/168/6/855/F2.expansion

Arranged in rows and columns. e.g. Choose a project: Columns are datasets and rows are tags:

http://jcb.rupress.org/content/168/5/747/F5.expansion

http://jcb.rupress.org/content/168/5/747/F8.expansion (Panel A)

http://jcb.rupress.org/content/172/1/139/F7.expansion

Movie
-----

There are options to choose frames interval (e.g. 30 mins) or to split movie over a fixed number of frames.

http://jcb.rupress.org/content/168/4/567/F4.expansion

http://www.nature.com/ncb/journal/v11/n11/fig_tab/ncb1973_F3.html

http://jcb.rupress.org/content/172/1/27/F3.expansion

http://jcb.rupress.org/content/188/1/49/F5.expansion

http://jcb.rupress.org/content/187/6/831/F1.expansion

http://jcb.rupress.org/content/187/6/781

ROI-zoom split-view
-------------------

Choose a rectangle ROI and display the contents as a zoom panel alongside its parent.

There are options to zoom to same height as parent OR zoom by chosen factor (e.g. 4x).

There are options to display zoom.

As sibling panel (same size as parent):

http://jcb.rupress.org/content/168/4/619/F5.expansion

http://jcb.rupress.org/content/168/4/619/F2.expansion

http://jcb.rupress.org/content/168/4/619/F1.expansion

http://jcb.rupress.org/content/168/4/587/F2.expansion

Overlay partially:

http://jcb.rupress.org/content/168/5/747/F6.expansion

http://jcb.rupress.org/content/168/5/747/F8.expansion (C)

http://jcb.rupress.org/content/168/5/747/F9.expansion

Overlay into corner:

http://jcb.rupress.org/content/168/5/735/F2.expansion

ROI-zoom movie
--------------

http://jcb.rupress.org/content/168/4/599/F4.expansion

Kymograph
---------

http://jcb.rupress.org/content/173/3/373.full

http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2172449/figure/fig1/

http://download.cell.com/mmcs/journals/0092-8674/PIIS0092867408015213.mmc4.mov

http://www.nature.com/ncb/journal/v10/n10/fig_tab/ncb1777_F5.html

http://www.jove.com/video/1144/live-imaging-dense-core-vesicles-primary-cultured-hippocampal?id=1144

http://jcb.rupress.org/content/187/6/831/F2.expansion

http://jcb.rupress.org/content/194/2/187/F3.expansion

|
