On most systems, a "postgres" user will be created which has admin
privileges, while the UNIX ``root`` user itself does *not* have admin
privileges. Therefore it is necessary to either become the ``postgres``
user or use sudo as below:

-  Create a non-superuser database user and record the name and
   password. The default name and password for the user are "db\_user"
   and "db\_password" respectively. Note that you should use your own
   choice of username and password here. You will need to configure
   OMERO to use your username and password by setting the omero.db.name
   and omero.db.pass properties (below).

   ::

       # For PostgreSQL 8.4.x and later
       $ sudo -u postgres createuser -P -D -R -S db_user
       Enter password for new role:       # db_password
       Enter it again:       # db_password

-  Create a database for OMERO to reside in

   ::

       $ sudo -u postgres createdb -O db_user omero_database

-  Add the PL/pgSQL language to your database

   ::

       $ sudo -u postgres createlang plpgsql omero_database

-  Check to make sure the database has been created, you have PostgreSQL
   client authentication correctly set up and the database is owned by
   the **db\_user** user.

   ::

       $ psql -h localhost -U db_user -l
       Password for user db_user: 
               List of databases
          Name         |  Owner   | Encoding  
       ----------------+----------+-----------
        omero_database | db_user  | SQL_ASCII
        postgres       | postgres | SQL_ASCII
        template0      | postgres | SQL_ASCII
        template1      | postgres | SQL_ASCII
       (4 rows)

If you have problems, especially with the last step, take a look at
:doc:`server-postgresql` since the authentication mechanism
is probably not properly configured.