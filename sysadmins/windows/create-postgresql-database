-  Create a non-superuser database user (make sure to note down the name
   and password) using **pgAdmin III**. You can find *pgAdmin III* on
   the Start Menu under :menuselection:`Programs --> PostgreSQL 9.1 --> pgAdmin III`:

   #. Double-click on the *PostgreSQL 9.1* database (or right-click and
      choose *Connect*) and provide your *postgres* user login password
      set during the installation, above.

      .. |pgadmin-start| image:: /images/install-windows-screenshots/pgadmin-01start.png
         :alt: Run pgAdmin III

      .. |pgadmin-initialview| image:: /images/install-windows-screenshots/pgadmin-02initialview.png
         :alt: Connect to the database server

      .. |pgadmin-connect| image::  /images/install-windows-screenshots/pgadmin-03connect.png
         :alt: Enter password

      |pgadmin-start| |pgadmin-initialview| |pgadmin-connect|

   #. Right-click on *Login Roles* and select *New Login Role...*

      .. figure:: /images/install-windows-screenshots/pgadmin-04newrole-context.png
         :align: center
         :alt: New login role

         New login role
   #. Create a new role with the *Role name* ``db_user`` and a
      *Password* ``db_password``. Note that these are examples, and you
      should use your own choice of username and password here. You will
      need to configure OMERO to use your username and password by
      setting the omero.db.name and omero.db.pass properties (below).

   .. |newrolename| image:: /images/install-windows-screenshots/pgadmin-05newrole-name.png
      :alt: New role name

   .. |newrolepassword| image:: /images/install-windows-screenshots/pgadmin-06newrole-passwd.png
      :alt: New role password

   +---------------+-------------------+
   | |newrolename| | |newrolepassword| |
   +---------------+-------------------+

-  Create an ``omero_database`` database:

   #. Right-click on *Databases* and select *New Database...*

      .. figure:: /images/install-windows-screenshots/pgadmin-07newdatabase-context.png
         :align: center
         :alt: New database

         New database
   #. Create a new database with the *Name* ``omero_database`` and
      *Owner* ``db_user`` (this may take a few moments)

      .. figure:: /images/install-windows-screenshots/pgadmin-08newdatabase-name.png
         :align: center
         :alt: New database name

         New database name

-  Confirm PL/pgSQL language support in your newly created database

   #. First, go to :menuselection:`File --> Options` select the *Browser* tab and
      activate the *Languages* option:

      .. |pgadmin-optionsmenu| image:: /images/install-windows-screenshots/pgadmin-09optionsmenu.png
         :alt: Options menu

      .. |pgadmin-viewlanguages| image:: /images/install-windows-screenshots/pgadmin-10viewlanguages.png
         :alt: Enable display of installed languages

      |pgadmin-optionsmenu| |pgadmin-viewlanguages|

   #. Navigate back to your database, expand the database's tree view
      and finally expand the now available *Languages* item:

      .. figure:: /images/install-windows-screenshots/pgadmin-11installedlanguages.png
         :align: center
         :alt: View installed languages

         View installed languages
   #. If the ``plpgsql`` language is missing, right-click on the
      *Extensions* item and select the *New extension...* option in the
      menu. Finally, add the ``plpgsql`` extension, accepting all
      defaults. This will add both the extension and the language. In
      older PostgreSQL versions without extensions, right-click on the
      *Languages* item and select the *New language...* option in the
      menu. Finally, add the ``plpgsql`` language, accepting all
      defaults.

      .. |pgadmin-newlanguage-context| image:: /images/install-windows-screenshots/pgadmin-12newlanguage-context.png
         :alt: Add new language

      .. |pgadmin-newlanguage-name| image:: /images/install-windows-screenshots/pgadmin-13newlanguage-name.png
         :alt: New language name

      |pgadmin-newlanguage-context| |pgadmin-newlanguage-name|
